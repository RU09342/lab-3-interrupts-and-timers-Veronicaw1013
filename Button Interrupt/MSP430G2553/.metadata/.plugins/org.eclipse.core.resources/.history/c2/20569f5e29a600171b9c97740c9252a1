#include <msp430.h>
#define LED1 BIT0
#define BUTTON BIT3
volatile unsigned int i = 0;//to prevent optimization
void main(void)
{
WDTCTL=WDTPW | WDTHOLD;
P1DIR |= LED1;//
P1REN |= BUTTON;
P1IE |= BUTTON;
P1IFG &= ~BUTTON;
while(1)
{
    P1OUT ^= BIT0;              // toggle P1.6
    for(i=10000; i>0; i--);     // delay
}

//__enable_interrupt();//enable all interrupts
_BIS_SR(LPM4_bits+GIE);
}
//port1 interrupt service routine
#pragma vector=PORT1_VECTOR
__interrupt void Port_1(void)
{
P1OUT ^= LED1;
P1IFG &= ~BUTTON;
P1IES ^= BUTTON;
}

